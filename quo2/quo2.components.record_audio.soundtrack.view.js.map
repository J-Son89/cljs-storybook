{"version":3,"sources":["quo2/components/record_audio/soundtrack/view.cljs"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQA,AAAeA,AAAY,AAAA,AAACC;AAC5B,AAAeC,AAAW,AAAA,AAACD;AAE3B,AAAA,AAAAE,AAAMM;AAAN,AAAA,AAAAL,AAAAD;AAAAC,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAAC,AAAA,AAAAD,AAAA,AAAA,AAAA,AAAA,AAAAE,AAAAC,AAAAH,AAAAA;AAAA,AAAAI,AAAAJ,AAAA,AACWM;AADX,AAAAF,AAAAJ,AAAA,AACiCO;AADjC,AAAAH,AAAAJ,AAAA,AAC4CQ;AAD5C,AAAAJ,AAAAJ,AAAA,AACkDS;AADlD,AAEE,AAAMG,AAAkB,AAACC,AAA0BN;AAAnD,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAG,AAEII;AAFJ,AAkBgC,AAAA,AAAAH,AAAOF;AAAP,AACE,AAAAC,AAACQ,AAAOZ;;AADV;;AAlBhC,AAAAK,AAAA,AAI+B,AAACI,AACA,AAACC,AACD,AAAAC,AAAIT,AAGJF;AAHA,AAAA,AAAAW;AAAAA;;AAAA;;AANhC,AAQ+BL,AAaA,AAACc,AAAoBC,AAAkBC;AArBtE,AAUgC,AAAA,AAACV,AAAOT;AACT,AAAKU,AAWL,AAACO,AACA,AAAIG,AAAcC,AAAkBC,AACpC,AAAIF,AAAcG,AAAkBC;AAbrC,AACE,AAAA,AAACf,AAAOT;;AACR,AAAA,AAACY,AACAd,AACAY;AAFD,AAGE,AAAAG,AAAAC,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAC,AAAA;AAAA,AAAA,AAAA,AAAkDL;AAAlD,AAAA,AAAA;AAHF,AAAAC;AAAA,AAIE,AAAAE,AAAAC,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAC,AAAA;AAAA,AAAA,AAAA,AAAAJ;AAAA,AAAA,AAAA;;AAjBnC,AAoB+B,AAAI,AAACK,AAAc3B,AAAWF","names":["quo2.components.record-audio.soundtrack.view/thumb-light","js/require","quo2.components.record-audio.soundtrack.view/thumb-dark","p__19266","map__19267","cljs.core/PROTOCOL_SENTINEL","cljs.core/apply","cljs.core/hash-map","cljs.core/get","quo2.components.record-audio.soundtrack.view/f-soundtrack","audio-current-time-ms","player-ref","style","seeking-audio?","p1__19264#","cljs.core/deref","audio-duration-ms","react-native.audio-toolkit/get-player-duration","react-native.slider/slider","cljs.core/merge","quo2.components.record-audio.soundtrack.style/player-slider-container","or__4126__auto__","cljs.core/reset!","seek-time","p1__19262#","react-native.audio-toolkit/seek-player","taoensso.timbre/-log!","taoensso.timbre/*config*","cljs.core/Delay","quo2.foundations.colors/dark?","quo2.foundations.colors/theme-colors","quo2.foundations.colors/primary-50","quo2.foundations.colors/primary-60","react-native.platform/ios?","quo2.foundations.colors/neutral-20","quo2.foundations.colors/neutral-40","quo2.foundations.colors/neutral-80","quo2.foundations.colors/neutral-60"],"sourcesContent":["(ns quo2.components.record-audio.soundtrack.view\n  (:require [quo2.components.record-audio.soundtrack.style :as style]\n            [quo2.foundations.colors :as colors]\n            [react-native.audio-toolkit :as audio]\n            [taoensso.timbre :as log]\n            [react-native.platform :as platform]\n            [react-native.slider :as slider]))\n\n(def ^:private thumb-light (js/require \"../resources/images/icons2/12x12/thumb-light.png\"))\n(def ^:private thumb-dark (js/require \"../resources/images/icons2/12x12/thumb-dark.png\"))\n\n(defn f-soundtrack\n  [{:keys [audio-current-time-ms player-ref style seeking-audio?]}]\n  (let [audio-duration-ms (audio/get-player-duration player-ref)]\n    [:<>\n     [slider/slider\n      {:test-ID                  \"soundtrack\"\n       :style                    (merge\n                                  (style/player-slider-container)\n                                  (or style {}))\n       :minimum-value            0\n       :maximum-value            audio-duration-ms\n       :value                    @audio-current-time-ms\n       :on-sliding-start         #(reset! seeking-audio? true)\n       :on-sliding-complete      (fn [seek-time]\n                                   (reset! seeking-audio? false)\n                                   (audio/seek-player\n                                    player-ref\n                                    seek-time\n                                    #(log/debug \"[record-audio] on seek - seek time: \" seek-time)\n                                    #(log/error \"[record-audio] on seek - error: \" %)))\n       :on-value-change          #(when @seeking-audio?\n                                    (reset! audio-current-time-ms %))\n       :thumb-image              (if (colors/dark?) thumb-dark thumb-light)\n       :minimum-track-tint-color (colors/theme-colors colors/primary-50 colors/primary-60)\n       :maximum-track-tint-color (colors/theme-colors\n                                  (if platform/ios? colors/neutral-20 colors/neutral-40)\n                                  (if platform/ios? colors/neutral-80 colors/neutral-60))}]]))\n"]}