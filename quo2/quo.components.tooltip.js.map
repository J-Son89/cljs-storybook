{"version":3,"sources":["quo/components/tooltip.cljs"],"mappings":"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","names":["quo.components.tooltip/initial-height","p__18962","map__18964","cljs.core/PROTOCOL_SENTINEL","cljs.core/apply","cljs.core/hash-map","cljs.core/get","quo.components.tooltip/tooltip-style","bottom-value","animation","cljs.core/merge","quo.design-system.spacing/padding-horizontal","quo.animated/mix","quo.components.tooltip/container-style","cljs.core/deref","quo.design-system.colors/theme","quo.components.tooltip/content-style","quo.components.tooltip/tooltip","layout","reagent.core/atom","animation-v","quo.animated/value","quo.animated/with-timing-transition","quo.animated/easings","on-layout","evt","width","target-obj-18967","*runtime-state*-orig-val__18974","oops.state/*runtime-state*","*runtime-state*-temp-val__18975","oops.state/prepare-state","js/Error","next-obj-18970","oops.core/validate-object-access-dynamically","next-obj-18971","next-obj-18972","height","target-obj-18985","*runtime-state*-orig-val__18993","*runtime-state*-temp-val__18994","next-obj-18990","next-obj-18991","next-obj-18992","cljs.core/reset!","p__19001","map__19004","accessibility-label","children","quo.animated/code","quo.animated/cond*","quo.animated/not*","quo.animated/set","quo.animated/view","cljs.core/into","quo.react-native/view","quo.platform/ios?","status-im.ui.components.icons.icons/icon"],"sourcesContent":["(ns quo.components.tooltip\n  (:require [oops.core :refer [oget]]\n            [quo.animated :as animated]\n            [quo.design-system.colors :as colors]\n            [quo.design-system.spacing :as spacing]\n            [quo.platform :as platform] ;; FIXME(Ferossgp): Dependecy on status\n            [quo.react-native :as rn]\n            [reagent.core :as reagent]\n            [status-im.ui.components.icons.icons :as icons]))\n\n(def ^:private initial-height 22)\n\n(defn tooltip-style\n  [{:keys [bottom-value animation]}]\n  (merge\n   (:base spacing/padding-horizontal)\n   {:position    :absolute\n    :align-items :center\n    :left        0\n    :right       0\n    :top         (- bottom-value)\n    :opacity     animation\n    :transform   [{:translateY (animated/mix animation 10 0)}]}))\n\n(defn container-style\n  []\n  {:z-index        2\n   :align-items    :center\n   :shadow-radius  16\n   :shadow-opacity 1\n   :shadow-color   (:shadow-01 @colors/theme)\n   :shadow-offset  {:width 0 :height 4}})\n\n(defn content-style\n  []\n  (merge (:base spacing/padding-horizontal)\n         {:padding-vertical 6\n          :elevation        2\n          :background-color (:ui-background @colors/theme)\n          :border-radius    8}))\n\n(defn tooltip\n  []\n  (let [layout      (reagent/atom {:height initial-height})\n        animation-v (animated/value 0)\n        animation   (animated/with-timing-transition\n                     animation-v\n                     {:easing (:ease-in animated/easings)})\n        on-layout   (fn [evt]\n                      (let [width  (oget evt \"nativeEvent\" \"layout\" \"width\")\n                            height (oget evt \"nativeEvent\" \"layout\" \"height\")]\n                        (reset! layout {:width  width\n                                        :height height})))]\n    (fn [{:keys [bottom-value accessibility-label]} & children]\n      [:<>\n       [animated/code\n        {:exec (animated/cond* (animated/not* animation-v)\n                               (animated/set animation-v 1))}]\n       [animated/view\n        {:style          (tooltip-style {:bottom-value (- (get @layout :height)\n                                                          bottom-value)\n                                         :animation    animation})\n         :pointer-events :box-none}\n        [animated/view\n         {:style          (container-style)\n          :pointer-events :box-none}\n         (into [rn/view\n                {:style               (content-style)\n                 :pointer-events      :box-none\n                 :accessibility-label accessibility-label\n                 :on-layout           on-layout}]\n               children)\n\n         (when platform/ios?\n           ;; NOTE(Ferossgp): Android does not show elevation for tooltip making it lost on white bg\n           [icons/icon :icons/tooltip-tip\n            {:width           18\n             :height          8\n             :container-style {:elevation 3}\n             :color           (:ui-background @colors/theme)}])]]])))\n"]}