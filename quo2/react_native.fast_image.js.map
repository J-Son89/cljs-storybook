{"version":3,"sources":["react_native/fast_image.cljs"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAKA,AAAKA,AAAiB,AAACC,AAA8BC;AAErD,AAAA,AAAMC,AACHC,AAAMC;AADT,AAAA,AAAA,AAAA,AAEGC,AAAgB,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAACC,AAAMH,AACvBC;;AAEH,AAAA,AAAMG,AACHC;AADH,AAEE,AAAMC,AAAQ,AAAA,AAACC;AACTC,AAAQ,AAAA,AAACD;AADf,AAEE,AAAAE;AAAA,AAAA,AAAAC,AAAAD;AAAAC,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAAC,AAAA,AAAAD,AAAA,AAAA,AAAA,AAAA,AAAAE,AAAAC,AAAAH,AAAAA;AAAAA,AAAyBM;AAAzB,AAAAF,AAAAJ,AAAA,AAAaK;AAAb,AAAA,AACGnB,AACA,AAAA,AAAA,AAAA,AAACO,AACAa,AACW,AAAA,AAAA,AAAI,AAASD,AACLA,AACNA,AACF,AAAKE;AAAL,AACE,AAAAC,AAAoB,AAAA,AAAWF;AAA/B,AAAA,AAAAE;AAAA,AAAA,AAAAA,AAAWC;AAAX,AACE,AAACA,AAASF;;AADZ;;AAEA,AAAA,AAACG,AAAOZ;AARtB,AASY,AAAKS;AAAL,AACE,AAAAC,AAAmB,AAAA,AAAUF;AAA7B,AAAA,AAAAE;AAAA,AAAA,AAAAA,AAAWG;AAAX,AACE,AAACA,AAAQJ;;AADX;;AAEA,AAAA,AAACG,AAAOd;;AACR,AAAA,AAACc,AAAOZ;AACtB,AAAM,AAAAc,AAAA,AAAAC,AAAKf;AAAL,AAAA,AAAAc;AAAAA;;AAAY,AAAA,AAAAC,AAACC,AAAKlB;;AAAxB,AAAA,AAAA,AACGP,AAAY,AAAA,AAAQiB,AACpB,AAAA,AAAAO,AAAA,AAAA,AAAKf,AACFiB,AACD,AAAA,AAAAF,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAWjB,AACRoB","names":["react-native.fast-image/fast-image-class","reagent.core/adapt-react-class","js/shadow.js.shim.module$react_native_fast_image","react-native.fast-image/placeholder","style","child","react-native.core/view","cljs.core/merge","react-native.fast-image/fast-image","_","loaded?","reagent.core/atom","error?","p__16568","map__16574","cljs.core/PROTOCOL_SENTINEL","cljs.core/apply","cljs.core/hash-map","cljs.core/get","source","props","e","temp__5735__auto__","on-error","cljs.core/reset!","on-load","or__4126__auto__","cljs.core/deref","cljs.core/not","react-native.core/text","react-native.core/activity-indicator"],"sourcesContent":["(ns react-native.fast-image\n  (:require [\"react-native-fast-image\" :as FastImage]\n            [react-native.core :as rn]\n            [reagent.core :as reagent]))\n\n(def fast-image-class (reagent/adapt-react-class ^js FastImage))\n\n(defn placeholder\n  [style child]\n  [rn/view {:style (merge style {:flex 1 :justify-content :center :align-items :center})}\n   child])\n\n(defn fast-image\n  [_]\n  (let [loaded? (reagent/atom false)\n        error?  (reagent/atom false)]\n    (fn [{:keys [source] :as props}]\n      [fast-image-class\n       (merge\n        props\n        {:source   (if (string? source)\n                     {:uri source}\n                     source)\n         :on-error (fn [e]\n                     (when-let [on-error (:on-error props)]\n                       (on-error e))\n                     (reset! error? true))\n         :on-load  (fn [e]\n                     (when-let [on-load (:on-load props)]\n                       (on-load e))\n                     (reset! loaded? true)\n                     (reset! error? false))})\n       (when (or @error? (not @loaded?))\n         [placeholder (:style props)\n          (if @error?\n            [rn/text \"X\"]\n            (when-not @loaded?\n              [rn/activity-indicator {:animating true}]))])])))\n"]}