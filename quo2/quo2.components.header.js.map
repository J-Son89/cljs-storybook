{"version":3,"sources":["quo2/components/header.cljs"],"mappings":"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","names":["quo2.components.header/header-height","p__16994","map__16995","cljs.core/PROTOCOL_SENTINEL","cljs.core/apply","cljs.core/hash-map","cljs.core/get","quo2.components.header/header-wrapper-style","height","border-bottom","background","cljs.core/merge","quo2.foundations.colors/theme-colors","quo2.foundations.colors/neutral-5","quo2.foundations.colors/neutral-95","quo2.components.header/absolute-fill","quo2.components.header/content","quo2.components.header/left","quo2.components.header/right","p__16997","map__16998","quo2.components.header/title-style","left","right","title-align","G__17000","cljs.core/Keyword","x__4214__auto__","y__4215__auto__","quo2.components.header/header-actions-style","quo2.components.header/header-action-placeholder","quo2.components.header/element","p__17001","map__17002","quo2.components.header/header-action","icon","label","on-press","disabled","accessibility-label","quo2.components.buttons.button/button","p__17004","map__17005","quo2.components.header/header-actions","accessories","component","react-native.core/view","cljs.core/seq","cljs.core/into","cljs.core/map","p__17007","map__17009","quo2.components.header/header-title","title","subtitle","and__4115__auto__","quo2.components.markdown.text/text","p__17018","map__17019","quo2.components.header/header","left-width","right-width","layout","reagent.core/atom","or__4126__auto__","handle-layout","el","get-layout","evt","width","target-obj-17026","*runtime-state*-orig-val__17030","oops.state/*runtime-state*","*runtime-state*-temp-val__17031","oops.state/prepare-state","js/Error","next-obj-17027","oops.core/validate-object-access-dynamically","next-obj-17028","next-obj-17029","target-obj-17036","*runtime-state*-orig-val__17043","*runtime-state*-temp-val__17044","next-obj-17040","next-obj-17041","next-obj-17042","cljs.core/swap!","cljs.core/assoc","p__17046","map__17047","left-accessories","left-component","right-accessories","right-component","insets","title-component","style","status-bar-height","react-native.reanimated/view","cljs.core/deref"],"sourcesContent":["(ns quo2.components.header\n  (:require [oops.core :refer [oget]]\n            [quo2.components.buttons.button :as button]\n            [quo2.components.markdown.text :as text]\n            [quo2.foundations.colors :as colors]\n            [react-native.core :as rn]\n            [react-native.reanimated :as reanimated]\n            [reagent.core :as reagent]))\n\n(def header-height 56)\n\n(defn header-wrapper-style\n  [{:keys [height border-bottom background]}]\n  (merge\n   {:background-color (colors/theme-colors\n                       colors/neutral-5\n                       colors/neutral-95)\n    :height           height}\n   (when background\n     {:background-color background})\n   (when border-bottom\n     {:border-bottom-width 1\n      :border-bottom-color (colors/theme-colors\n                            colors/neutral-5\n                            colors/neutral-95)})))\n\n(def absolute-fill\n  {:position :absolute\n   :top      0\n   :bottom   0\n   :left     0\n   :right    0})\n\n(def content\n  {:flex            1\n   :flex-direction  :row\n   :align-items     :center\n   :justify-content :center})\n\n(def left\n  {:position        :absolute\n   :left            0\n   :top             0\n   :bottom          0\n   :justify-content :center\n   :align-items     :flex-start})\n\n(def right\n  {:position        :absolute\n   :right           0\n   :top             0\n   :bottom          0\n   :justify-content :center\n   :align-items     :flex-end})\n\n(defn title-style\n  [{:keys [left right]} title-align]\n  (merge\n   absolute-fill\n   (case title-align\n     :left {:left  (:width left)\n            :right (:width right)}\n     {:align-items     :center\n      :justify-content :center\n      :left            (max (:width left) (:width right))\n      :right           (max (:width left) (:width right))})))\n\n(def header-actions-style\n  {:flex               1\n   :flex-direction     :row\n   :align-items        :center\n   :justify-content    :center\n   :padding-horizontal 4})\n\n(def header-action-placeholder\n  {:width 16})\n\n(def element\n  {:align-items     :center\n   :justify-content :center\n   :flex            1})\n\n(defn header-action\n  [{:keys [icon label on-press disabled accessibility-label]}]\n  [button/button\n   (merge {:on-press on-press\n           :disabled disabled}\n          (cond\n            icon  {:type  :icon\n                   :theme :icon}\n            label {:type :secondary})\n          (when accessibility-label\n            {:accessibility-label accessibility-label}))\n   (cond\n     icon  icon\n     label label)])\n\n(defn header-actions\n  [{:keys [accessories component]}]\n  [rn/view {:style element}\n   (cond\n     (seq accessories)\n     (into [rn/view {:style header-actions-style}]\n           (map header-action accessories))\n\n     component component\n\n     :else\n     [rn/view {:style header-action-placeholder}])])\n\n(defn header-title\n  [{:keys [title subtitle component title-align]}]\n  [:<>\n   (cond\n     component component\n\n     (and title subtitle)\n     [:<>\n      [text/text\n       {:weight          :medium\n        :number-of-lines 1}\n       title]\n      [text/text\n       {:weight          :regular\n        :color           :secondary\n        :number-of-lines 1}\n       subtitle]]\n\n     title [text/text\n            {:weight          :bold\n             :number-of-lines 0\n             :align           title-align\n             :size            :large}\n            title])])\n\n(defn header\n  [{:keys [left-width right-width]}]\n  (let [layout        (reagent/atom {:left  {:width  (or left-width 8)\n                                             :height header-height}\n                                     :right {:width  (or right-width 8)\n                                             :height header-height}\n                                     :title {:width  0\n                                             :height header-height}})\n        handle-layout (fn [el get-layout]\n                        (fn [evt]\n                          (let [width  (oget evt \"nativeEvent\" \"layout\" \"width\")\n                                height (oget evt \"nativeEvent\" \"layout\" \"height\")]\n                            (when get-layout\n                              (get-layout el\n                                          {:width  width\n                                           :height height}))\n                            (swap! layout assoc\n                              el\n                              {:width  width\n                               :height height}))))]\n    (fn\n      [{:keys [left-accessories left-component border-bottom\n               right-accessories right-component insets get-layout\n               title subtitle title-component style title-align\n               background]\n        :or   {title-align   :center\n               border-bottom false}}]\n      (let [status-bar-height (get insets :top 0)\n            height            (+ header-height status-bar-height)]\n        [reanimated/view\n         {:style (header-wrapper-style {:height        height\n                                        :background    background\n                                        :border-bottom border-bottom})}\n         [rn/view\n          {:pointer-events :box-none\n           :height         status-bar-height}]\n         [rn/view\n          {:style          (merge {:height header-height}\n                                  style)\n           :pointer-events :box-none}\n          [rn/view\n           {:style          absolute-fill\n            :pointer-events :box-none}\n           [rn/view\n            {:style          content\n             :pointer-events :box-none}\n            [rn/view\n             {:style          left\n              :on-layout      (handle-layout :left get-layout)\n              :pointer-events :box-none}\n             [header-actions\n              {:accessories left-accessories\n               :component   left-component}]]\n\n            [rn/view\n             {:style          (title-style @layout title-align)\n              :on-layout      (handle-layout :title get-layout)\n              :pointer-events :box-none}\n             [header-title\n              {:title       title\n               :subtitle    subtitle\n               :title-align title-align\n               :component   title-component}]]\n\n            [rn/view\n             {:style          right\n              :on-layout      (handle-layout :right get-layout)\n              :pointer-events :box-none}\n             [header-actions\n              {:accessories right-accessories\n               :component   right-component}]]]]]]))))\n"]}